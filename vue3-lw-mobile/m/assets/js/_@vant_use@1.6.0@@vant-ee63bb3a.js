import{i as n,o as e,c as t,a as i,b as r,d as a,e as o,n as s,w as u,g as l,p as c,f as d}from"./_@vue_runtime-core@3.3.11@@vue-724baf7c.js";import{u as v,r as f,a as h,i as p}from"./_@vue_reactivity@3.3.11@@vue-4dc2fb75.js";var m="undefined"!=typeof window;function w(n){return m?requestAnimationFrame(n):-1}function g(n){m&&cancelAnimationFrame(n)}function y(n){w((()=>w(n)))}var x=(n,e)=>({top:0,left:0,right:n,bottom:e,width:n,height:e}),b=n=>{const e=v(n);if(e===window){const n=e.innerWidth,t=e.innerHeight;return x(n,t)}return(null==e?void 0:e.getBoundingClientRect)?e.getBoundingClientRect():x(0,0)};function k(n=!1){const e=f(n);return[e,(n=!e.value)=>{e.value=n}]}function C(i){const r=n(i,null);if(r){const n=l(),{link:i,unlink:a,internalChildren:o}=r;i(n),e((()=>a(n)));return{parent:r,index:t((()=>o.indexOf(n)))}}return{parent:null,index:f(-1)}}var M=(n,e)=>{const t=n.indexOf(e);return-1===t?n.findIndex((n=>void 0!==e.key&&null!==e.key&&n.type===e.type&&n.key===e.key)):t};function O(n,e,t){const i=function(n){const e=[],t=n=>{Array.isArray(n)&&n.forEach((n=>{var i;d(n)&&(e.push(n),(null==(i=n.component)?void 0:i.subTree)&&(e.push(n.component.subTree),t(n.component.subTree.children)),n.children&&t(n.children))}))};return t(n),e}(n.subTree.children);t.sort(((n,e)=>M(i,n.vnode)-M(i,e.vnode)));const r=t.map((n=>n.proxy));e.sort(((n,e)=>r.indexOf(n)-r.indexOf(e)))}function T(n){const e=h([]),t=h([]),i=l();return{children:e,linkChildren:r=>{c(n,Object.assign({link:n=>{n.proxy&&(t.push(n),e.push(n.proxy),O(i,e,t))},unlink:n=>{const i=t.indexOf(n);e.splice(i,1),t.splice(i,1)},children:e,internalChildren:t},r))}}}var A,E,L=1e3,j=60*L,N=60*j,_=24*N;function B(n){let e,o,s,u;const l=f(n.time),c=t((()=>{return{total:n=l.value,days:Math.floor(n/_),hours:Math.floor(n%_/N),minutes:Math.floor(n%N/j),seconds:Math.floor(n%j/L),milliseconds:Math.floor(n%L)};var n})),d=()=>{s=!1,g(e)},v=()=>Math.max(o-Date.now(),0),h=e=>{var t,i;l.value=e,null==(t=n.onChange)||t.call(n,c.value),0===e&&(d(),null==(i=n.onFinish)||i.call(n))},p=()=>{e=w((()=>{s&&(h(v()),l.value>0&&p())}))},y=()=>{e=w((()=>{if(s){const t=v();n=t,e=l.value,(Math.floor(n/1e3)!==Math.floor(e/1e3)||0===t)&&h(t),l.value>0&&y()}var n,e}))},x=()=>{m&&(n.millisecond?p():y())};return i(d),r((()=>{u&&(s=!0,u=!1,x())})),a((()=>{s&&(d(),u=!0)})),{start:()=>{s||(o=Date.now()+l.value,s=!0,x())},pause:d,reset:(e=n.time)=>{d(),l.value=e},current:c}}function D(n){let e;o((()=>{n(),s((()=>{e=!0}))})),r((()=>{e&&n()}))}function F(n,t,i={}){if(!m)return;const{target:r=window,passive:o=!1,capture:s=!1}=i;let l,c=!1;const d=e=>{if(c)return;const i=v(e);i&&!l&&(i.addEventListener(n,t,{capture:s,passive:o}),l=!0)},f=e=>{if(c)return;const i=v(e);i&&l&&(i.removeEventListener(n,t,s),l=!1)};let h;return e((()=>f(r))),a((()=>f(r))),D((()=>d(r))),p(r)&&(h=u(r,((n,e)=>{f(e),d(n)}))),()=>{null==h||h(),f(r),c=!0}}function H(n,e,t={}){if(!m)return;const{eventName:i="click"}=t;F(i,(t=>{(Array.isArray(n)?n:[n]).every((n=>{const e=v(n);return e&&!e.contains(t.target)}))&&e(t)}),{target:document})}function V(){if(!A&&(A=f(0),E=f(0),m)){const n=()=>{A.value=window.innerWidth,E.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:A,height:E}}var W,R=/scroll|auto|overlay/i,S=m?window:void 0;function Y(n){return"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType}function q(n,e=S){let t=n;for(;t&&t!==e&&Y(t);){const{overflowY:n}=window.getComputedStyle(t);if(R.test(n))return t;t=t.parentNode}return e}function z(n,e=S){const t=f();return o((()=>{n.value&&(t.value=q(n.value,e))})),t}function I(){if(!W&&(W=f("visible"),m)){const n=()=>{W.value=document.hidden?"hidden":"visible"};n(),window.addEventListener("visibilitychange",n)}return W}var G=Symbol("van-field");function J(e){const t=n(G,null);t&&!t.customValue.value&&(t.customValue.value=e,u(e,(()=>{t.resetValidation(),t.validateWithTrigger("onChange")})))}export{G as C,b as a,T as b,C as c,F as d,g as e,z as f,q as g,I as h,y as i,J as j,k,B as l,H as m,D as o,w as r,V as u};
